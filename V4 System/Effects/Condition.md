Условия это важная часть работы эффектов и действий (в основном эффектов). Разберёмся как они устроены.
Тип условия зависит от его "name".

#### Простые условия

Разберём простые условия

``` showLineNumbers
"conditions": [
	{
		"name": "comparison", // Условие - сравнение
		"value_1": "a", // Первое значение - 'a' (обычно строковые значения не используются, показано для примера)
		"operator": "==", // Оператор - равенство
		"value_2": "a" // Второе значение - тоже 'a', условие вернёт True.
	}
]
```

Это базовый пример условия, сравнивающий два значения. Нужно понимать, что мы не используем строковые значения (Как "a" в данном случае), а используем существующие поля. Например, более полезное условие:

``` showLineNumbers
"conditions": [
	{
		"name": "comparison", // Условие - сравнение
		"value_1": "$left_hand_item_type", // Первое значение - тип предмета в левой руке, с помощью $ мы даём интерпретатору понять, что хотим получить значение, а не использовать строку
		"operator": "==", // Оператор - равенство
		"value_2": "a" // Второе значение - 'shield'
	}
]
```

Это условие будет равно True, если у игрока прямо сейчас в левой руке щит.

Ниже - список полей, доступных для получения в условии:

#|
||

**Название поля**

|

**Тип возвращаемого значения**

|

**Примеры возвращаемого значения**

|

**Описание**

||
||

attack\_range

|

string

|

melee \| range \| none

|

Возвращает категорию дистанцию атаки

||
||

attack\_range\_ft

|

uint

|

5 \| 10 \| 80

|

Возвращает дальность атаки в футах

||
||

attack\_type

|

string

|

unarmed \| armed \| spell \| none

|

Возвращает тип атаки

||
||

left\_hand\_item\_type

|

string

|

weapon \| shield \| other \| none

|

Возвращает тип предмета в левой руке

||
||

right\_hand\_item\_type

|

string

|

weapon \| shield \| other \| none

|

Возвращает тип предмета в правой руке

||
||

armor\_type

|

string

|

light\_armor \| medium\_armor \| heavy\_armor \| none

|

Возвращает тип надетого доспеха

||
||

left\_hand\_item\_properties

|

\[\]string

|

\["light", "finesse"\] \| \["two-handed", "heavy"\]

|

Возвращает массив свойств предмета в левой руке

||
||

right\_hand\_item\_properties

|

\[\]string

|

\["light", "finesse"\] \| \["two-handed", "heavy"\]

|

Возвращает массив свойств предмета в правой руке

||
||

left\_hand\_item\_id

|

UUID

|

3b352707-d200-4bd7-927c-ef449c725fa8

|

Идентификатор предмета в левой руке

||
||

right\_hand\_item\_id

|

UUID

|

3b352707-d200-4bd7-927c-ef449c725fa8

|

Идентификатор предмета в правой руке

||
||

action\_name

|

string

|

action\_unarmored\_strike

|

Название совершаемого действия

||
||

|

|

|

||
|#

Список будет расширяться в дальнейшем.

Дальше мы будем работать именно с типами данных, а не конкретными полями персонажа.

#### Логические операторы И/ИЛИ

Разберемся с операторами or и and внутри условий. Изначально поле conditions проверяет что все выражения внутри равны True (действует как оператор И / AND)

Но можно создавать более сложные условия. Например, проверим что у нашего персонажа правая рука пустая ИЛИ держит щит:

``` showLineNumbers
"conditions": [
	{
        "name": "or",
        "conditions_or": [
            {
                "name": "$left_hand_item_type",
                "operator": "==",
                "value": "none",
            },
            {
                "name": "$left_hand_item_type",
                "operator": "==",
                "value": "shield",
            }
        ]
    }
]
```

Таким же образом работает оператор И - давайте дополним пример. Теперь нам подходит ситуация когда персонаж ничего не держит в левой руке ИЛИ держит в левой руке щит И не носит брони. В таком случае получим следующее условие:

``` showLineNumbers
"conditions": [
	{
        "name": "or",
        "conditions_or": [
            {
                "name": "$left_hand_item_type",
                "operator": "==",
                "value": "none",
            },
            {
                "name": "and",
                "conditions_and": [
                    {
                        "name": "$left_hand_item_type",
                        "operator": "==",
                        "value": "shield",
                    },
                    {
                        "name": "$armor_type",
                        "operator": "==",
                        "value": "none",
                    }
                ]
            }
        ]
    }
]
```

#### Иные операторы

Ниже приведены другие значения поля "operator" и возможные значения для сравнения:

#|
||

Значение "operator"

|

Тип value\_1 (A)

|

Тип value\_2 (B)

|

Истина, если

||
||

==

|

Any

|

Any

|

A равно B

||
||

!=

|

Any

|

Any

|

A не равно B

||
||

\>

|

Int/Uint

|

Int/Uint

|

A \> B

||
||

\>=

|

Int/Uint

|

Int/Uint

|

A \>= B

||
||

\<

|

Int/Uint

|

Int/Uint

|

A \< B

||
||

\<=

|

Int/Uint

|

Int/Uint

|

A \<= B

||
||

contains

|

\[\]Any

|

Any

|

B находится в массиве A

||
||

not\_contains

|

\[\]Any

|

Any

|

B не находится в массиве A

||
|#

